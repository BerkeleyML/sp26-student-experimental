OK_FORMAT = True

test = {'name': 'q4f', 'points': 1, 'suites': [{'cases': [{'code': ">>> assert compose_transforms(create_rotation_matrix(45), create_blur_matrix(2)).shape == (784, 784), 'Compose transforms should return a 784x784 matrix'\n>>> gt_rotate_then_blur_transform = np.load('public_solutions/rotate_then_blur_transform.npy')\n>>> gt_shift_then_rotate_then_blur_transform = np.load('public_solutions/shift_then_rotate_then_blur_transform.npy')\n>>> gt_rotate_then_blur_transform_updated = np.load('public_solutions/rotate_then_blur_transform_updated.npy')\n>>> gt_shift_then_rotate_then_blur_transform_updated = np.load('public_solutions/shift_then_rotate_then_blur_transform_updated.npy')\n>>> assert np.allclose(rotate_then_blur(test_image, 45, 2), gt_rotate_then_blur_transform, rtol=0.0001, atol=0.0001) or np.allclose(rotate_then_blur(test_image, 45, 3), gt_rotate_then_blur_transform_updated, rtol=0.0001, atol=0.0001), 'Rotate then blur image does not match solution'\n>>> assert np.allclose(shift_then_rotate_then_blur(test_image, 1, -4, 200, 3), gt_shift_then_rotate_then_blur_transform, rtol=0.0001, atol=0.0001) or np.allclose(shift_then_rotate_then_blur(test_image, 1, -4, 200, 5), gt_shift_then_rotate_then_blur_transform_updated, rtol=0.0001, atol=0.0001), 'Shift then rotate then blur image does not match solution'\n", 'hidden': False, 'locked': False, 'points': 0.5}], 'scored': True, 'setup': '', 'teardown': '', 'type': 'doctest'}]}