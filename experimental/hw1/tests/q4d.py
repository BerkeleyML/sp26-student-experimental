OK_FORMAT = True

test = {'name': 'q4d', 'points': 2, 'suites': [{'cases': [{'code': ">>> assert create_rotation_matrix(15).shape == (784, 784), 'Rotation matrix should be 784x784'\n>>> gt_rotate_45_transform = np.load('public_solutions/rotate_45_transform.npy')\n>>> gt_rotate_90_transform = np.load('public_solutions/rotate_90_transform.npy')\n>>> gt_rotate_200_transform = np.load('public_solutions/rotate_200_transform.npy')\n>>> gt_rotate_270_transform = np.load('public_solutions/rotate_270_transform.npy')\n>>> gt_rotate_45_transform_updated = np.load('public_solutions/rotate_45_transform_updated.npy')\n>>> gt_rotate_90_transform_updated = np.load('public_solutions/rotate_90_transform_updated.npy')\n>>> gt_rotate_200_transform_updated = np.load('public_solutions/rotate_200_transform_updated.npy')\n>>> gt_rotate_270_transform_updated = np.load('public_solutions/rotate_270_transform_updated.npy')\n>>> assert np.allclose(rotate_image(test_image, 45), gt_rotate_45_transform, rtol=0.0001, atol=0.0001) or np.allclose(rotate_image(test_image, 45), gt_rotate_45_transform_updated, rtol=0.0001, atol=0.0001), 'Rotate 45 image does not match solution'\n>>> assert np.allclose(rotate_image(test_image, 90), gt_rotate_90_transform, rtol=0.0001, atol=0.0001) or np.allclose(rotate_image(test_image, 90), gt_rotate_90_transform_updated, rtol=0.0001, atol=0.0001), 'Rotate 90 image does not match solution'\n>>> assert np.allclose(rotate_image(test_image, 200), gt_rotate_200_transform, rtol=0.0001, atol=0.0001) or np.allclose(rotate_image(test_image, 200), gt_rotate_200_transform_updated, rtol=0.0001, atol=0.0001), 'Rotate 200 image does not match solution'\n>>> assert np.allclose(rotate_image(test_image, 270), gt_rotate_270_transform, rtol=0.0001, atol=0.0001) or np.allclose(rotate_image(test_image, 270), gt_rotate_270_transform_updated, rtol=0.0001, atol=0.0001), 'Rotate 270 image does not match solution'\n", 'hidden': False, 'locked': False, 'points': 1}], 'scored': True, 'setup': '', 'teardown': '', 'type': 'doctest'}]}